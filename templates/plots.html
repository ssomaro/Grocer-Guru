<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nutritional Data Visualizations</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            /* align-items: center; */
        }
        #container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #header {
            text-align: center;
            margin: 20px;
        }
        #content {
            display: flex;
            width: 100%;
        }
        #pie-chart-container {
            width: 50%;
            text-align: center;
        }
        #summary-text {
            width: 50%;
            padding: 20px;
            box-sizing: border-box;
        }
        #bar-charts-container {
            width: 100%;
            display: flex;
            justify-content: space-around;
        }
        .bar-chart {
            width: 45%; /* Adjust the width as needed */
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">My Charts</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
            </ul>
        </div>
    </nav>
    <div id ="container">
        <div id="header">
            <h1>Your grocerry bag's nutritional overview</h1>
        </div>
        <div id="content">
            <div id="pie-chart-container" style="border: 10px;padding: 5px;background-color: black;margin-left: 15px; border-radius: 10px;">
                <div id="macrosPieChart" style=" border-radius: 10px;"></div>
            </div>
            <div id="summary-text">
                <p>Placeholder text for summary of nutrition. This text can be replaced with actual data or insights derived from the nutritional analysis. For example, you might summarize the average distribution of macros, highlight particular dietary considerations, or provide health tips based on the visualized data.</p>
            </div>
        </div>
        <div id="bar-charts-container">
            <div id="topCaloriesBar" class="bar-chart"></div>
            <div id="topProteinBar" class="bar-chart"></div>
        </div>

    </div>
    <!-- <div id="header">
        <h1>Nutritional Data Visualizations</h1>
    </div>
    <div id="content">
        <div id="pie-chart-container">
            <div id="macrosPieChart"></div>
        </div>
        <div id="summary-text">
            <p>Placeholder text for summary of nutrition. This text can be replaced with actual data or insights derived from the nutritional analysis. For example, you might summarize the average distribution of macros, highlight particular dietary considerations, or provide health tips based on the visualized data.</p>
        </div>
    </div>
    <div id="bar-charts-container">
        <div id="topCaloriesBar" class="bar-chart"></div>
        <div id="topProteinBar" class="bar-chart"></div>
    </div> -->

    <script>
        function drawGraph(endpoint, elementId) {
            fetch(endpoint)
                .then(response => response.json())
                .then(data => {
                    const graph = JSON.parse(data);
                    Plotly.newPlot(elementId, graph.data, graph.layout);
                });
        }

        drawGraph('/macros_pie_chart', 'macrosPieChart');
        drawGraph('/top_calories_bar', 'topCaloriesBar');
        drawGraph('/top_protein_bar', 'topProteinBar');
    </script>
</body>
</html>
